import{_ as t,c as d,o as e,a as r}from"./app.eda6f95c.js";const o='{"title":"\u6BD4\u7279\u5E01\u6307\u4EE4\u96C6\u8BF4\u660E","description":"","frontmatter":{"title":"\u6BD4\u7279\u5E01\u6307\u4EE4\u96C6\u8BF4\u660E","date":"2018-08-23T01:33:10.000Z","draft":false,"markup":"mmark"},"headers":[{"level":2,"title":"\u5E38\u6570\u6307\u4EE4","slug":"\u5E38\u6570\u6307\u4EE4"},{"level":2,"title":"\u6D41\u7A0B\u63A7\u5236","slug":"\u6D41\u7A0B\u63A7\u5236"},{"level":2,"title":"\u6808\u76F8\u5173\u6307\u4EE4","slug":"\u6808\u76F8\u5173\u6307\u4EE4"},{"level":2,"title":"\u5B57\u7B26\u4E32\u76F8\u5173\u6307\u4EE4","slug":"\u5B57\u7B26\u4E32\u76F8\u5173\u6307\u4EE4"},{"level":2,"title":"\u4F4D\u8FD0\u7B97","slug":"\u4F4D\u8FD0\u7B97"},{"level":2,"title":"\u7B97\u672F\u8FD0\u7B97","slug":"\u7B97\u672F\u8FD0\u7B97"},{"level":2,"title":"\u5BC6\u7801\u5B66\u6307\u4EE4","slug":"\u5BC6\u7801\u5B66\u6307\u4EE4"},{"level":2,"title":"LockTime","slug":"locktime"},{"level":3,"title":"\u5173\u4E8EOP_CHECKLOCKTIMEVERIFY\u7684\u4E00\u4E2A\u793A\u4F8B","slug":"\u5173\u4E8Eop-checklocktimeverify\u7684\u4E00\u4E2A\u793A\u4F8B"},{"level":3,"title":"OP_CHECKSEQUENCEVERIFY\u89E3\u91CA","slug":"op-checksequenceverify\u89E3\u91CA"}],"relativePath":"blockchain/btcd/\u6BD4\u7279\u5E01\u6307\u4EE4\u96C6\u8BF4\u660E.md"}',a={},n=r(`<h1 id="\u6BD4\u7279\u5E01\u6307\u4EE4\u96C6" tabindex="-1">\u6BD4\u7279\u5E01\u6307\u4EE4\u96C6 <a class="header-anchor" href="#\u6BD4\u7279\u5E01\u6307\u4EE4\u96C6" aria-hidden="true">#</a></h1><p>\u672C\u6587\u4E3B\u8981\u8BD1\u81EA<a href="https://en.bitcoin.it/wiki/Script" target="_blank" rel="noopener noreferrer">\u6BD4\u7279\u5E01 wiki</a></p><p>##\u7EA6\u5B9A</p><ul><li>\u6570\u5B57\u662F\u5C0F\u7AEF\u7F16\u7801,\u4E5F\u5C31\u662F\u9075\u5FAA\b\u82F1\u7279\u5C14\u5904\u7406\u5668\u7684\u89C4\u5219</li><li>\u6574\u6570\u7684\u7F16\u7801\u89C4\u5219\u662F\u6700\u9AD8\u4F4D\u8868\u793A\u4ED8\u597D,\u5BF9\u4E8E\u4E00\u4E2A\u5B57\u8282\u7684\u6574\u6570,0x81\u8868\u793A-1,0x80\u8868\u793A\u8D1F0,0x03 \u8868\u793A3,0x83\u8868\u793A-3</li><li>0\u8868\u793A False, \u5176\u4ED6\u8868\u793A True</li></ul><h2 id="\u5E38\u6570\u6307\u4EE4" tabindex="-1">\u5E38\u6570\u6307\u4EE4 <a class="header-anchor" href="#\u5E38\u6570\u6307\u4EE4" aria-hidden="true">#</a></h2><table><thead><tr><th>\u540D\u5B57</th><th>\u6307\u4EE4</th><th>\u5341\u516D\u8FDB\u5236</th><th>\u8F93\u5165</th><th>\u8F93\u51FA</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>OP_0</td><td>0</td><td>0X00</td><td>nothing</td><td>nothing</td><td>\u5728\u7AD9\u4E0A\u653E\u7F6E\u4E00\u4E2A\u7A7A\u6570\u7EC4</td></tr><tr><td>N/A</td><td>1-75</td><td>0x01-0x4b</td><td>special</td><td>data</td><td>\u6307\u4EE4\u652F\u51FA\u540E\u9762\u6709\u591A\u5C11\u5B57\u8282\u6570\u636E\u9700\u8981\u653E\u7F6E\u5230\u6808\u4E0A,\u6BD4\u598203 01 02 03,03\u610F\u5473\u7740\u540E\u9762\u6709\u4E09\u4E2A\u5B57\u8282\u7684\u6570\u636E01 02 03 \u9700\u8981\u653E\u7F6E\u5230\u6808\u4E0A,01 02 03\u5C31\u662F\u6267\u884C\u540E\u7684\u6808\u9876\u6570\u636E</td></tr><tr><td>OP_PUSHDATA1</td><td>76</td><td>0x4c</td><td>special</td><td>\u6570\u636E</td><td>\u8F93\u5165\u8F93\u51FA\u957F\u5EA6\u5747\u4E0D\u56FA\u5B9A,0x4c \u540E\u9762\u7684\u7B2C\u4E00\u4E2A\u5B57\u8282\u8868\u793A\u540E\u9762\u6570\u636E\u7684\u957F\u5EA6\u6BD4\u5982\u4EE5\u4E0B\u6307\u4EE4 0x4c020102,\u6267\u884C\u5B8C\u4EE5\u540E,\u6808\u9876\u4E3A01 02</td></tr><tr><td>\bOP_PUSHDATA2</td><td>77</td><td>0x4d</td><td>special</td><td>\u6570\u636E</td><td>\u8F93\u5165\u8F93\u51FA\u957F\u5EA6\u5747\u4E0D\u56FA\u5B9A,0x4d \u540E\u9762\u7684\u4E24\u4E2A\u5B57\u8282\u8868\u793A\u540E\u9762\u6570\u636E\u7684\u957F\u5EA6\u6BD4\u5982\u4EE5\u4E0B\u6307\u4EE4 0x4d00010001....ff,\u6267\u884C\u5B8C\u4EE5\u540E,\u6808\u9876\u4E3A0001....feff, \u6808\u9876\u6709256\u5B57\u8282\u7684\u6570\u636E,\u8FD9\u4E9B\u6570\u636E\u5206\u522B\u662F00...ff</td></tr><tr><td>OP_PUSHDATA4</td><td>78</td><td>0x4e</td><td>special</td><td>\u6570\u636E</td><td>\u8F93\u5165\u8F93\u51FA\u957F\u5EA6\u5747\u4E0D\u56FA\u5B9A,0x4e \u540E\u9762\u7684\u56DB\u4E2A\u5B57\u8282\u8868\u793A\u540E\u9762\u6570\u636E\u7684\u957F\u5EA6\u6BD4\u5982\u4EE5\u4E0B\u6307\u4EE4 0x4e000000010001....ff,\b\u5176\u4E2D4e \u540E\u9762\u768400000001\u8868\u793A\u957F\u5EA6\u4E3A2^24\u5B57\u8282, \u76EE\u524D\u5E94\u8BE5\u7528\u4E0D\u5230,\u56E0\u4E3A\u8FD9\u8FDC\u8D85\u51FA\u4E86\u4E00\u5757\u7684\u5927\u5C0F,\u662F\u4E0D\u5141\u8BB8\u7684</td></tr><tr><td>OP_1NEGATIVE</td><td>79</td><td>0X4F</td><td>\u7A7A</td><td>-1</td><td>\u5C06\u6570\u503C-1\u653E\u5728\u6808\u9876,\u6BD4\u7279\u5E01\u7684\u865A\u62DF\u673A\u662F\u591A\u5C11\u4F4D\u7684?</td></tr><tr><td>OP_1,OP_TRUE</td><td>81</td><td>0x51</td><td>\u7A7A</td><td>1</td><td>\u5C06\u6570\u503C1\u653E\u5728\u6808\u9876</td></tr><tr><td>\b\b\bOP_2-OP_16</td><td>82-96</td><td>0X52-0X60</td><td>\u7A7A</td><td>2-16</td><td>\u5C06\u6570\u503C2-16\u653E\u7F6E\u5728\u6808\u9876</td></tr></tbody></table><h2 id="\u6D41\u7A0B\u63A7\u5236" tabindex="-1">\u6D41\u7A0B\u63A7\u5236 <a class="header-anchor" href="#\u6D41\u7A0B\u63A7\u5236" aria-hidden="true">#</a></h2><table><thead><tr><th>\u540D\u5B57</th><th>\u6307\u4EE4</th><th>\u5341\u516D\u8FDB\u5236</th><th>\u8F93\u5165</th><th>\u8F93\u51FA</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>OP_NOP</td><td>97</td><td>0x61</td><td>\u7A7A</td><td>\u7A7A</td><td>\b\u5C31\u662F\u4E00\u822C\u7684 nop \u6307\u4EE4</td></tr><tr><td>OP_IF</td><td>99</td><td>0X63</td><td>True/false</td><td>&lt;expression&gt; if [statements] [else [statements1]] endif</td><td>\u79FB\u9664\u6808\u9876,\u5982\u679C\u4E3A\u771F, statements \u5C06\u4F1A\u88AB\u6267\u884C</td></tr><tr><td>OP_NOTIF</td><td>100</td><td>0X64</td><td>True/false</td><td>&lt;expression&gt; notif [statements] [else [statements1]] endif</td><td>\u79FB\u9664\u6808\u9876,\u5982\u679C\u4E3A\u5047, statements \u5C06\u4F1A\u88AB\u6267\u884C</td></tr><tr><td>OP_ELSE</td><td>103</td><td>0X67</td><td>True/false</td><td>&lt;expression&gt; notif [statements] [else [statements1]] endif</td><td>\u79FB\u9664\u6808\u9876,\u5982\u679C\u4E3A\b\u5047, statements1 \u5C06\u4F1A\u88AB\u6267\u884C</td></tr><tr><td>OP_ENDIF</td><td>104</td><td>0X68</td><td>True/false</td><td>&lt;expression&gt; notif [statements] [else [statements1]] endif</td><td>\u4E3B\u8981\u7528\u6765\u6807\u8BB0if\u8BED\u53E5\u7684\u7ED3\u675F</td></tr><tr><td>OP_verify</td><td>105</td><td>0X69</td><td>True/false\u7A7A</td><td>\u79FB\u9664\u6808\u9876,\u5982\u679C\u4E3A\u5047,\u4EA4\u6613\u76F4\u63A5\u6807\u8BB0\u4E3A\u5931\u8D25,\u4E3A\u771F,\u7EE7\u7EED\u6267\u884C\u6307\u4EE4.</td><td></td></tr><tr><td>OP_RETURN</td><td>106</td><td>0x6a</td><td>\u7A7A</td><td>\u4EA4\u6613\u5931\u8D25</td><td>\u865A\u62DF\u673A\u6267\u884C\u5230\u6B64,\u6807\u8BB0\u4EA4\u6613\u5931\u8D25.\u56E0\u6B64\u5982\u679C\u4E00\u4E2A\u4EA4\u6613\u7684\u8F93\u51FA\b\u6709 OP_RETURN, \u90A3\u4E48\u610F\u5473\u7740\u8FD9\u662F\u4E00\u4E2A\u6C38\u8FDC\u6709\u6548\u7684 UTXO,\b\u8C01\u4E5F\u65E0\u6CD5\u82B1\u8D39. \u53EF\u4EE5\u5C06\u6B64 UTXO value\u8BBE\u7F6E\u4E3A0,\u7528\u6765\u8BB0\u5F55\u4E00\u4E9B\u7279\u6B8A\u6570\u636E</td></tr></tbody></table><h5 id="op-if-op-else\u793A\u4F8B" tabindex="-1">OP_IF OP_ELSE\b\u793A\u4F8B <a class="header-anchor" href="#op-if-op-else\u793A\u4F8B" aria-hidden="true">#</a></h5><p>\b \u5047\u8BBE\u521D\u59CB\u6808,\u81EA\u9876\u5411\u4E0B</p><pre class="mermaid loading">graph TD
A[\u6808\u5E95\u90E8<br>ff<br>fe<br>fd<br>]</pre><p>\u6307\u4EE4\u5982\u4E0B: OP_1 OP_IF OP_2 OP_3 OP_ELSE OP_4 \b\bOP_5 \bOP_ENDIF \u6211\u4EEC\u4E00\u6B65\u4E00\u6B65\u6765\u770B\u4E00\u4E0B\u6808\u548C\u6307\u4EE4\u7684\u53D8\u5316</p><h6 id="_1-op-1" tabindex="-1">1. OP_1 <a class="header-anchor" href="#_1-op-1" aria-hidden="true">#</a></h6><p>\u6808:</p><pre class="mermaid loading">graph TD
A[\u6808\u5E95\u90E8<br>ff<br>fe<br>fd<br>1]</pre><p>\u6307\u4EE4: OP_IF OP_2 OP_3 OP_ELSE OP_4 \b\bOP_5 \bOP_ENDIF</p><h6 id="_2-op-if" tabindex="-1">2. OP_IF <a class="header-anchor" href="#_2-op-if" aria-hidden="true">#</a></h6><p>\u6808:</p><pre class="mermaid loading">graph TD
A[\u6808\u5E95\u90E8<br>ff<br>fe<br>fd]</pre><p>\u6307\u4EE4: OP_2 OP_3 OP_ELSE OP_4 \b\bOP_5 \bOP_ENDIF</p><p>\b\u56E0\u4E3A\b\u6761\u4EF6\u4E3A\u771F,\u56E0\u6B64\u6267\u884C OP_2 OP_3\u8FD9\u4E24\u6761\u8BED\u53E5,\u4E0D\u6267\u884C OP_4 OP_5.</p><h6 id="_3-op-2-op-3" tabindex="-1">3. OP_2 OP_3 <a class="header-anchor" href="#_3-op-2-op-3" aria-hidden="true">#</a></h6><p>\u6808:</p><pre class="mermaid loading">graph TD
A[\u6808\u5E95\u90E8<br>ff<br>fe<br>fd<br>2<br>3]</pre><p>\u6307\u4EE4: OP_ELSE OP_4 \b\bOP_5 \bOP_ENDIF</p><h6 id="_4-op-2-op-3" tabindex="-1">4. OP_2 OP_3 <a class="header-anchor" href="#_4-op-2-op-3" aria-hidden="true">#</a></h6><p>\u6808:</p><pre class="mermaid loading">graph TD
A[\u6808\u5E95\u90E8<br>ff<br>fe<br>fd<br>2<br>3]</pre><p>\u6307\u4EE4: \u7A7A \u56E0\u4E3A\u6267\u884C\u4E86 OP_IF else \u6A21\u5757\u4E0D\u6267\u884C.</p><h2 id="\u6808\u76F8\u5173\u6307\u4EE4" tabindex="-1">\u6808\u76F8\u5173\u6307\u4EE4 <a class="header-anchor" href="#\u6808\u76F8\u5173\u6307\u4EE4" aria-hidden="true">#</a></h2><table><thead><tr><th>\u540D\u5B57</th><th>\u6307\u4EE4</th><th>\u5341\u516D\u8FDB\u5236</th><th>\u8F93\u5165</th><th>\u8F93\u51FA</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>OP_TOALTSTACK</td><td>107</td><td>0x6b</td><td>x1</td><td>(alt)x1</td><td>\b\u79FB\u52A8\u4E3B\u6808\u6808\u9876\u6570\u636E\u5230\u9644\u52A0\u6808, \u5B8C\u5168\u4E0D\u6E05\u695A\u4E3A\u4EC0\u4E48\u6BD4\u7279\u5E01\u6267\u884C\u4F1A\u6709\u4E24\u4E2A\u6808,\u5728\u4EC0\u4E48\u5730\u65B9\u7528\u5462</td></tr><tr><td>OP_FROMALTSTACK</td><td>108</td><td>0x6c</td><td>(alt)x1</td><td>x1</td><td>\u79FB\u52A8\u9644\u52A0\u6808\u6808\u9876\u6570\u636E\u5230\u4E3B\u6808</td></tr><tr><td>OP_IFDUP</td><td>115</td><td>0x73</td><td>x</td><td>x/xx</td><td>\u5982\u679C x \u975E0,\u6808\u4E0A\u4F1A\u6709\u4E24\u4EFD x, \u5426\u5219 \u4EC0\u4E48\u90FD\u4E0D\u505A(\u6808\u4E0D\u53D8\u5316)</td></tr><tr><td>OP_\bDEPTH</td><td>116</td><td>0x74</td><td>\u7A7A</td><td>\u6808\u9AD8\u5EA6</td><td>\u5C06\u6808\u4E0A\u6709\u591A\u5C11\u6570\u636E\b\u4FE1\u606F\u653E\u5230\u6808\u9876</td></tr><tr><td>OP_DROP</td><td>117</td><td>0x75</td><td>x</td><td>\u7A7A</td><td>\u4E22\u5F03\u6808\u9876\u6570\u636E</td></tr><tr><td>\bOP_DUP</td><td>118</td><td>0x76</td><td>x</td><td>x x</td><td>\u590D\u5236\u6808\u9876\u6570\u636E</td></tr><tr><td>OP_NIP</td><td>119</td><td>0x77</td><td>x1 x2</td><td>x2 \u79FB\u9664\u6808\u9876\u4E0A\u9762\u7684\u4E00\u9879</td><td></td></tr><tr><td>OP_OVER</td><td>120</td><td>0x78</td><td>x1 x2</td><td>x1 x2 x1</td><td>\u590D\u5236\u6808\u7B2C\u4E8C\u9879\u5230\u6808\u9876</td></tr><tr><td>OP_PICK</td><td>121</td><td>0x79</td><td>xn...x2 x1 x0 &lt;n&gt;</td><td>xn ... x2 x1 x0 xn</td><td>\u590D\u5236\u6808\u7B2C n \u9879\u5230\u6808\u9876,\u8FD9\u4E2A n \u6700\u5927\u53EF\u4EE5\u591A\u5927\u5462?</td></tr><tr><td>OP_ROLL</td><td>122</td><td>0x7a</td><td>xn... x2 x1 &lt;n&gt;</td><td>... x2 x1 x0 xn</td><td>\u79FB\u52A8\u6808\u7B2C n \u9879\u5230\u6808\u9876</td></tr><tr><td>OP_ROT</td><td>123</td><td>0x7b</td><td>x1 x2 x3</td><td>x2 x3 x1</td><td>\u65CB\u8F6C\u6808\u524D\u4E09\u9879\u76F8\u5F53\u4E8E\u628A\u7B2C\u4E09\u9879\u79FB\u5230\u6808\u9876</td></tr><tr><td>OP_SWAP</td><td>124</td><td>\b0x7c</td><td>x1 x2</td><td>x2 x1</td><td>\u5C06\u6808\u9876\u4E24\u9879\u4E92\u76F8\u4EA4\u6362</td></tr><tr><td>OP_TUCK</td><td>125</td><td>0x7d</td><td>x1 x2</td><td>x2 x1 x2</td><td>\u5C06\u6808\u9876\u590D\u5236\u4E00\u4EFD\u5230\u7B2C\u4E8C\u9879\u4E4B\u4E0A</td></tr><tr><td>\bOP_2DROP</td><td>109</td><td>0x6d</td><td>x1 x2</td><td>\u7A7A</td><td>\u79FB\u9664\u6808\u9876\u4E24\u9879</td></tr><tr><td>OP_2DUP</td><td>110</td><td>0x6e</td><td>x1 x2</td><td>x1 x2 x1 x2</td><td>\u590D\u5236\u6808\u9876\u4E24\u9879</td></tr><tr><td>OP_3DUP</td><td>111</td><td>0x6f</td><td>x1 x2 x3</td><td>x1 x2 x3 x1 x2 x3</td><td>\u590D\u5236\u6808\u9876\u4E09\u9879</td></tr><tr><td>OP_2OVER</td><td>112</td><td>0x70</td><td>x1 x2 x3 x4</td><td>x1 x2 x3 x4 x1 x2</td><td>\u590D\u5236\u6808\u7B2C\u4E09\u7B2C\u56DB\u9879\u5230\u6808\u9876</td></tr><tr><td>OP_2ROT</td><td>113</td><td>0x71</td><td>x1 x2 x3 x4 x5 x6</td><td>x3 x4 x5 x6 x1 x2</td><td>\u79FB\u52A8\u6808\u7B2C\u7B2C\u4E94\u7B2C\u516D\u9879\u5230\u6808\u9876</td></tr><tr><td>OP_2SWAP</td><td>114</td><td>0x72</td><td>x1 x2 x3 x4</td><td>x3 x4 x1 x2</td><td>\u4EA4\u6362\u6808\u9876\u4E00\u5BF9\u6570\u636E</td></tr></tbody></table><p>\b\u5173\u4E8E\u6808\u63CF\u8FF0,\u6808\u662F\u6309\u7167\u4ECE\u5DE6\u81F3\u53F3\u8868\u793A\u6808\u5E95\u5230\u6808\u9876. \u4EE5OP_2ROT \u4E3A\u4F8B, \u8F93\u5165: x1 x2 x3 x4 x5 x6 \u6808\u9876\u662F x6,\u7B2C\u4E8C\u9879\u662F x5,\u4EE5\u6B64\u7C7B\u63A8,\u7B2C\u516D\u9879\u662F x1 \u6267\u884C\u5B8C\u8F93\u51FA\u4E3A: x3 x4 x5 x6 x1 x2 \u6808\u9876\u662F x2,\u7B2C\u4E8C\u9879\u662Fx1,\u4EE5\u6B64\u7C7B\u63A8,\u7B2C\u516D\u9879\u662Fx3</p><h2 id="\u5B57\u7B26\u4E32\u76F8\u5173\u6307\u4EE4" tabindex="-1">\u5B57\u7B26\u4E32\u76F8\u5173\u6307\u4EE4 <a class="header-anchor" href="#\u5B57\u7B26\u4E32\u76F8\u5173\u6307\u4EE4" aria-hidden="true">#</a></h2><table><thead><tr><th>\u540D\u5B57</th><th>\u6307\u4EE4</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>OP_CAT</td><td>126</td><td>\u5DF2\u7981\u7528,\u78B0\u5230\u6B64\u6307\u4EE4,\u4EA4\u6613\u76F4\u63A5\u5931\u8D25</td></tr><tr><td>OP_SUBSTR</td><td>127</td><td>\u5DF2\u7981\u7528,\u78B0\u5230\u6B64\u6307\u4EE4,\u4EA4\u6613\u76F4\u63A5\u5931\u8D25</td></tr><tr><td>OP_LEFT</td><td>128</td><td>\u5DF2\u7981\u7528,\u78B0\u5230\u6B64\u6307\u4EE4,\u4EA4\u6613\u76F4\u63A5\u5931\u8D25</td></tr><tr><td>OP_RIGHT</td><td>129</td><td>\u5DF2\u7981\u7528,\u78B0\u5230\u6B64\u6307\u4EE4,\u4EA4\u6613\u76F4\u63A5\u5931\u8D25</td></tr><tr><td>OP_SIZE</td><td>130</td><td>\u5C06\u6808\u4E0A\u5B57\u7B26\u4E32\u7684\u957F\u5EA6\u653E\u5230\u6808\u9876(\b\u4E0D\u4F1A\u5F39\u51FA\u5B57\u7B26\u4E32)</td></tr></tbody></table><h2 id="\u4F4D\u8FD0\u7B97" tabindex="-1">\u4F4D\u8FD0\u7B97 <a class="header-anchor" href="#\u4F4D\u8FD0\u7B97" aria-hidden="true">#</a></h2><table><thead><tr><th>\u540D\u5B57</th><th>\u6307\u4EE4</th><th>\u5341\u516D\u8FDB\u5236</th><th>\u8F93\u5165</th><th>\u8F93\u51FA</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>\b\bOP_INVERT</td><td>131</td><td>0x83</td><td></td><td></td><td>\b\u5DF2\u7981\u7528,\u78B0\u5230\u6B64\u6307\u4EE4,\u4EA4\u6613\u76F4\u63A5\u5931\u8D25</td></tr><tr><td>OP_AND</td><td>132</td><td>0x84</td><td></td><td></td><td>\u5DF2\u7981\u7528,\u78B0\u5230\u6B64\u6307\u4EE4,\u4EA4\u6613\u76F4\u63A5\u5931\u8D25</td></tr><tr><td>OP_OR</td><td>133</td><td>0x85</td><td></td><td></td><td>\u5DF2\u7981\u7528,\u78B0\u5230\u6B64\u6307\u4EE4,\u4EA4\u6613\u76F4\u63A5\u5931\u8D25</td></tr><tr><td>OP_\bXOR</td><td>134</td><td>0x86</td><td></td><td></td><td>\u5DF2\u7981\u7528,\u78B0\u5230\u6B64\u6307\u4EE4,\u4EA4\u6613\u76F4\u63A5\u5931\u8D25</td></tr><tr><td>OP_EQUAL</td><td>135</td><td>0x87</td><td>x1 x2</td><td>TRUE/false</td><td>\u5F39\u51FA\u6808\u9876\u4E24\u4E2A\u6570\u636E,\u5982\u679C\u76F8\u7B49,\u653E\u7F6E1\u5230\u6808\u9876,\u5426\u5219\u653E\u7F6E0\u5230\u6808\u9876</td></tr><tr><td>\bOP_EQUALVERIFY</td><td>136</td><td>0x88</td><td>x1 x2</td><td></td><td>\u5F39\u51FA\u6808\u9876\u4E24\u4E2A\u6570\u636E,\u5982\u679C\u4E0D\u7B49,\u4EA4\u6613\u76F4\u63A5\u5931\u8D25,\u5426\u5219\u4EC0\u4E48\u90FD\u4E0D\u505A.</td></tr></tbody></table><h2 id="\u7B97\u672F\u8FD0\u7B97" tabindex="-1">\u7B97\u672F\u8FD0\u7B97 <a class="header-anchor" href="#\u7B97\u672F\u8FD0\u7B97" aria-hidden="true">#</a></h2><p>\u6BD4\u7279\u5E01\u4E0D\u518D\u652F\u6301\u4E58\u9664\u8FD0\u7B97,\u78B0\u5230\u8FD9\u6837\u7684\u6307\u4EE4,\u5FC5\u987B\u5931\u8D25.\u8FD9\u4E9B\u6307\u4EE4\u5C31\u4E0D\u5217\u51FA\u4E86. \u8FD9\u4E9B\u6307\u4EE4\u5305\u62EC\u4E58\u6CD5\u6307\u4EE4(OP_MUL,OP_2MUL),\u9664\u6CD5\u6307\u4EE4(OP_DIV,OP_2DIV,\b\bOP_MOD),\u79FB\u4F4D\u6307\u4EE4( OP_LSHIFT,OP_RSHIFT)</p><table><thead><tr><th>\u540D\u5B57</th><th>\u6307\u4EE4</th><th>\u5341\u516D\u8FDB\u5236</th><th>\u8F93\u5165</th><th>\u8F93\u51FA</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>OP_1ADD</td><td>139</td><td>0x8b</td><td>x</td><td>x+1</td><td>\b\u6808\u9876\u6570\u636E\u52A01</td></tr><tr><td>OP_1SUB</td><td>140</td><td>0x8c</td><td>x</td><td>x-1</td><td>\u6808\u9876\u6570\u636E\u51CF1</td></tr><tr><td>OP_NEGATE</td><td>143</td><td>0x8f</td><td>x</td><td>-x</td><td>\u7B26\u53F7\u53D6\u53CD</td></tr><tr><td>OP_ABS</td><td>144</td><td>0x90</td><td>x</td><td>abs(x)</td><td>\u6C42\u6808\u9876\u7684\u7EDD\u5BF9\u503C,\u5F39\u51FA x, \u538B\u5165 x \u7684\u7EDD\u5BF9\u503C</td></tr><tr><td>OP_NOT</td><td>145</td><td>0x91</td><td>x</td><td>not(x)</td><td>x \u8F6C\u6362\u4F4D\u903B\u8F91\u771F\u5047,\u7136\u540E\u53D6\u53CD,\u6BD4\u59823,\u76F8\u5F53\u4E8E\u771F, not \u4EE5\u540E\u4E3A0</td></tr><tr><td>OP_0NOTEQUAL</td><td>146</td><td>0x92</td><td>in</td><td>out</td><td>\u8FD4\u56DE0,\u5982\u679C\u8F93\u5165\u4E3A0,\u5426\u52191. \u8FD9\u6761\u6307\u4EE4\u770B\u4E0D\u61C2\u4EC0\u4E48\u610F\u601D,\u600E\u4E48\u7528</td></tr><tr><td>OP_ADD</td><td>147</td><td>0x93</td><td>a b</td><td>a+b</td><td>\u6C42\u548C</td></tr><tr><td>OP_SUB</td><td>148</td><td>0x94</td><td>a b</td><td>a-b</td><td>\b\u6C42\u5DEE</td></tr><tr><td>OP_BOOLAND</td><td>154</td><td>0x9a</td><td>a b</td><td>a &amp;&amp; b</td><td>\u5982\u679C a b \u90FD\u4E0D\u662F&quot;&quot;(\u7A7A\u5B57\u7B26\u4E32),\u8F93\u51FA\u4E3A1,\u5426\u5219\u4E3A0</td></tr><tr><td>OP_BOOLOR</td><td>155</td><td>0x9b</td><td>a b</td><td>a or b</td><td>\u5982\u679C a \u6216\u8005 b \u4E0D\u662F&quot;&quot;,\u8F93\u51FA\u4E3A1,\u5426\u5219\u4E3A0</td></tr><tr><td>OP_NUMEQUAL</td><td>156</td><td>0x9c</td><td>a b</td><td>a==b</td><td>\u5F39\u51FAa,b \u5982\u679C\u76F8\u7B49,\u653E\u7F6E1\u5230\u6808\u9876,\u5426\u5219\u653E\u7F6E0</td></tr><tr><td>OP_NUMEQUALVERIFY</td><td>157</td><td>0x9d</td><td>a b</td><td>nothing/fail</td><td>\u5982\u679C a,b \u4E0D\u7B49,\u4EA4\u6613\u5931\u8D25,\u5426\u5219\u4EC0\u4E48\u90FD\u4E0D\u505A</td></tr><tr><td>OP_NUMNOTEQUAL</td><td>158</td><td>0x9e</td><td>a b</td><td>a!=b</td><td>\u5982\u679C a,b \u4E0D\u7B49,\u6808\u9876\u653E1,\u5426\u5219\u653E0</td></tr><tr><td>OP_LESSTHAN</td><td>159</td><td>0x9f</td><td>a b</td><td>a&lt;b</td><td>a \u662F\u5426\u5C0F\u4E8E b</td></tr><tr><td>OP_GREATERTHAN</td><td>160</td><td>0xa0</td><td>a b</td><td>a&gt;b</td><td>a \u662F\u5426\u5927\u4E8E b</td></tr><tr><td>OP_LESSTHANOREQUAL</td><td>161</td><td>0xa1</td><td>a b</td><td>a&lt;=b</td><td>a \u662F\u5426\u5C0F\u4E8E\u7B49\u4E8E b</td></tr><tr><td>OP_GREATERTHANOREQUAL</td><td>162</td><td>0xa2</td><td>a b</td><td>a&gt;=b</td><td>a \u662F\u5426\u5927\u4E8E\u7B49\u4E8E b</td></tr><tr><td>OP_MIN</td><td>163</td><td>0xa3</td><td>a b</td><td>a&lt;b?a:b</td><td>\b\u5F39\u51FA a,b ,\u7136\u540E\u5728\u6808\u9876\u653E\u8F83\u5C0F\u7684</td></tr><tr><td>OP_MAX</td><td>164</td><td>0xa4</td><td>a b</td><td>a&gt;b?a:b</td><td>\u5F39\u51FA a,b,\u7136\u540E\u653E\u8F83\u5927\u7684</td></tr><tr><td>OP_WITHIN</td><td>165</td><td>0xa5</td><td>x a b</td><td>true/false</td><td>\u5F39\u51FA x,a,b,\u5982\u679C x \b\u4ECB\u4E8E a,b \u4E4B\u95F4,\u653E1,\u5426\u5219\u653E0</td></tr></tbody></table><h2 id="\u5BC6\u7801\u5B66\u6307\u4EE4" tabindex="-1">\u5BC6\u7801\u5B66\u6307\u4EE4 <a class="header-anchor" href="#\u5BC6\u7801\u5B66\u6307\u4EE4" aria-hidden="true">#</a></h2><table><thead><tr><th>\u540D\u5B57</th><th>\u6307\u4EE4</th><th>\u5341\u516D\u8FDB\u5236</th><th>\u8F93\u5165</th><th>\u8F93\u51FA</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>OP_RIPEMD160</td><td>166</td><td>0xa6</td><td>in</td><td>hash</td><td>hash=RIPEMD160(in), \u95EE\u9898\u662F\u5982\u4F55\u77E5\u9053 in \u7684\u957F\u5EA6\u662F\u591A\u5C11\u5462?\u600E\u4E48\u754C\u5B9A?</td></tr><tr><td>OP_SHA1</td><td>167</td><td>0xa7</td><td>in</td><td>hash</td><td>\u6C42sha1.</td></tr><tr><td>OP_SHA256</td><td>168</td><td>0xa8</td><td>in</td><td>hash</td><td>\u6C42sha256</td></tr><tr><td>OP_HASH160</td><td>169</td><td>0xa9</td><td>in</td><td>hash</td><td>ripemd160(sha256(in))</td></tr><tr><td>OP_HASH256</td><td>170</td><td>0xaa</td><td>in</td><td>hash</td><td>sha256(sha256(in))</td></tr><tr><td>OP_CODESEPARATOR</td><td>171</td><td>0xab</td><td>Nothing</td><td>Nothing</td><td>\u4EE3\u7801\u6570\u636E\u5206\u9694\u7B26.</td></tr><tr><td><a href="https://en.bitcoin.it/wiki/OP_CHECKSIG" title="OP CHECKSIG" target="_blank" rel="noopener noreferrer">OP_CHECKSIG</a></td><td>172</td><td>0xac</td><td>sig pubkey</td><td>True / false</td><td>\u5F39\u51FA signature,pubkey, \u9A8C\u8BC1\u4E24\u8005\u662F\u5426\u5339\u914D. \u81F3\u4E8E\u7B7E\u540D\u5185\u5BB9\u5305\u542B\u4EC0\u4E48,\u53EF\u4EE5\u53C2\u8003\u6211\u53E6\u4E00\u7BC7\u535A\u5BA2<a href="https://www.cnblogs.com/baizx/p/9497429.html" target="_blank" rel="noopener noreferrer">\u6BD4\u7279\u5E01 \u89E3\u9501\u811A\u672Csignature script \u5305\u542B\u4E86\u90A3\u4E9B\u4E1C\u897F</a></td></tr><tr><td>OP_CHECKSIGVERIFY</td><td>173</td><td>0xad</td><td>sig pubkey</td><td>Nothing /\xA0<em>fail</em></td><td>\u548C\u524D\u4E00\u6761\u6307\u4EE4\u529F\u80FD\u76F8\u540C,\u5982\u679C\u9A8C\u8BC1\u4E3A\u5047,\u90A3\u4E48\u4EA4\u6613\u76F4\u63A5\u5931\u8D25</td></tr><tr><td>OP_CHECKMULTISIG</td><td>174</td><td>0xae</td><td>x sig1 sig2 ... pub1 pub2</td><td>True / False</td><td>\u591A\u91CD\u7B7E\u540D\u9A8C\u8BC1 , \u5F39\u51FA\u7684\u6570\u636E\u6839\u636E n/m \u6765\u786E\u5B9A.</td></tr><tr><td>OP_CHECKMULTISIGVERIFY</td><td>175</td><td>0xaf</td><td>x sig1 sig2 ... pub1 pub2 ...</td><td>Nothing /\xA0<em>fail</em></td><td>\u5148\u505AOP_CHECKMULTISIG, \u7136\u540E\u6267\u884COP_VERIFY</td></tr></tbody></table><h2 id="locktime" tabindex="-1">LockTime <a class="header-anchor" href="#locktime" aria-hidden="true">#</a></h2><table><thead><tr><th>\u540D\u5B57</th><th>\u6307\u4EE4</th><th>\u5341\u516D\u8FDB\u5236</th><th>\u8F93\u5165</th><th>\u8F93\u51FA</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>OP_CHECKLOCKTIMEVERIFY (previously OP_NOP2)</td><td>177</td><td>0xb1</td><td>x</td><td>x /\xA0<em>fail</em></td><td>\u57FA\u672C\u529F\u80FD\u5C31\u662F\u4E3A\u4E86\u963B\u6B62 TxOut \u53EA\u80FD\u5728\u67D0\u4E2A\u7EDD\u5BF9\u5757\u6570\u4E4B\u540E\u88AB\u82B1\u51FA,\u6BD4\u5982<code>30000 OP_CHECKLOCKTIMEVERIFY DROP ...</code>\u8868\u793A30000\u5757\u4E4B\u540E\u540E\u7EED\u811A\u672C\u624D\u6709\u53EF\u80FD\u6210\u529F,\u5426\u5219\u5FC5\u5B9A\u5931\u8D25. \u8BE6\u7EC6\u529F\u80FD\u53C2\u8003\xA0<a href="https://github.com/bitcoin/bips/blob/master/bip-0065.mediawiki" target="_blank" rel="noopener noreferrer">BIP 0065</a>.</td></tr><tr><td>OP_CHECKSEQUENCEVERIFY (previously OP_NOP3)</td><td>178</td><td>0xb2</td><td>x</td><td>x /\xA0<em>fail</em></td><td>\u4F7F\u7528 TxIn\u4E2D\u7684 nSequence \u4E2D\u7684\u4F5C\u4E3A\u76F8\u5BF9\u5757\u6570,\u8868\u793A\u53EA\u80FD\u5728\u82B1\u8D39\u7684\u90A3\u4E2AUTXO \u88AB\u6316\u77FFnSequence\u5757\u4EE5\u540E\u624D\u80FD\u82B1\u8D39\u90A3\u4E2A UTXO.\u8BE6\u7EC6\u53C2\u8003\xA0<a href="https://github.com/bitcoin/bips/blob/master/bip-0112.mediawiki" target="_blank" rel="noopener noreferrer">BIP 0112</a>.</td></tr></tbody></table><h3 id="\u5173\u4E8Eop-checklocktimeverify\u7684\u4E00\u4E2A\u793A\u4F8B" tabindex="-1">\u5173\u4E8EOP_CHECKLOCKTIMEVERIFY\u7684\u4E00\u4E2A\u793A\u4F8B <a class="header-anchor" href="#\u5173\u4E8Eop-checklocktimeverify\u7684\u4E00\u4E2A\u793A\u4F8B" aria-hidden="true">#</a></h3><div class="language-"><pre><code>    IF
        &lt;now + 3 months&gt; CHECKLOCKTIMEVERIFY DROP
        &lt;Lenny&#39;s pubkey&gt; CHECKSIGVERIFY
        1
    ELSE
        2
    ENDIF
    &lt;Alice&#39;s pubkey&gt; &lt;Bob&#39;s pubkey&gt; 2 CHECKMULTISIG
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u4E0A\u9762\u7684\u811A\u672C\u4E2D&lt; now+3 months&gt; \u5C31\u662F\u4E00\u4E2A\u4ECE\u73B0\u5728\u8D77,\u63A8\u7B97\u51FA\u6765\u7684\u4E00\u4E2A\u7EDD\u5BF9\u5757\u6570,\u6BD4\u5982\u73B0\u5728\u662F5000000\u5757,\u90A3\u4E48\u4E09\u4E2A\u6708\u4EE5\u540E\u5C31\u662F5012960\u5757</p><p>\u90A3\u4E48\u89E3\u9501\u811A\u672C\u662F\u4EC0\u4E48\u5462,\u6709\u4E24\u79CD\u60C5\u51B5 \u4E00\u79CD\u662F\u4E09\u4E2A\u6708\u4EE5\u540E,\u4F7F\u7528Alice\u6216\u8005 Bob \u7684\u7B7E\u540D,\u52A0\u4E0A Lenny \u7684\u7B7E\u540D \u4E00\u79CD\u662F\u968F\u65F6\u7528Alice\u548C Bob \u7684\u7B7E\u540D</p><p>#####\u7B2C\u4E00\u79CD\u60C5\u51B5,\u89E3\u9501\u811A\u672C\u662F</p><div class="language-"><pre><code>0 &lt;Alice/Bob&#39;s signature&gt; &lt;Lenny&#39;s signature&gt; 1
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u89E3\u9501\u811A\u672C\u4ECE\u5DE6\u5230\u53F3\u4E00\u6B21\u538B\u6808,</p><ol><li>1\u8868\u793A\u8D70\u4E0A\u9762\u7684\u5206\u652F</li><li>\u9A8C\u8BC1\u662F\u5426\u662F\u4E09\u4E2A\u6708\u4EE5\u540E\u4E86</li><li>\u7B2C\u4E00\u4E2A CHECKSIGVERIFY\u9A8C\u8BC1Lenny\u7684\u7B7E\u540D\u662F\u5426\u6B63\u786E</li><li>\u7B2C\u4E8C\u4E2ACHECKMULTISIG\u8F93\u5165\u662F <code>0 &lt;Alice/Bob&#39;s signature&gt; 1 &lt;Alice&#39;s pubkey&gt; &lt;Bob&#39;s pubkey&gt; 2 CHECKMULTISIG</code> ,\u56E0\u6B64\u968F\u4FBF Alice/Bob \u7684\u4E00\u4E2A\u6709\u6548\u7B7E\u540D\u90FD\u53EF\u4EE5\u82B1\u8D39\u8BE5 UTXO</li></ol><h5 id="\u7B2C\u4E8C\u79CD\u60C5\u51B5\u89E3\u9501\u811A\u672C" tabindex="-1">\u7B2C\u4E8C\u79CD\u60C5\u51B5\u89E3\u9501\u811A\u672C <a class="header-anchor" href="#\u7B2C\u4E8C\u79CD\u60C5\u51B5\u89E3\u9501\u811A\u672C" aria-hidden="true">#</a></h5><div class="language-"><pre><code>0 &lt;Alice&#39;s signature&gt; &lt;Bob&#39;s signature&gt; 0
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol><li>0\u8868\u793A\u8D70\u4E0B\u9762\u7684\u5206\u652F</li><li>\u4E5F\u5C31\u662F\u4E00\u4E2A2-2\u7684\u591A\u91CD\u7B7E\u540D\u9A8C\u8BC1,\u56E0\u6B64\u9700\u8981 Alice/Bob \u90FD\u7B7E\u540D\u624D\u53EF\u4EE5.</li></ol><h3 id="op-checksequenceverify\u89E3\u91CA" tabindex="-1">OP_CHECKSEQUENCEVERIFY\u89E3\u91CA <a class="header-anchor" href="#op-checksequenceverify\u89E3\u91CA" aria-hidden="true">#</a></h3><div class="language-"><pre><code> IF
        2 &lt;Alice&#39;s pubkey&gt; &lt;Bob&#39;s pubkey&gt; &lt;Escrow&#39;s pubkey&gt; 3 CHECKMULTISIG
ELSE
    &quot;30d&quot; CHECKSEQUENCEVERIFY DROP
    &lt;Alice&#39;s pubkey&gt; CHECKSIG
ENDIF
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u5982\u679C\u8D702-3\u591A\u91CD\u7B7E\u540D,\u968F\u65F6\u53EF\u4EE5\u82B1\u8D39,\u4F46\u662F\u5982\u679C\u8D70\u4E0B\u9762\u7684\u5206\u652F,\u5219\u9700\u8981\u7B4930\u5929(\u8FD9\u4E2A30\u5929\u662F\u4ECE\u88AB\u5F15\u7528\u7684 UTXO \u88AB\u6253\u5305\u7B97\u8D77)\u4EE5\u540E.\u8FD9\u91CC\u9762\u4E3B\u8981\u662F\u6D89\u53CA\u5230\u4E00\u4E2A\u53EF\u4EE5\u5F15\u7528\u8FD8\u672A\u6253\u5305\u7684\u4EA4\u6613\u673A\u5236.30\u5929\u4EE5\u540E,\u53EA\u8981\u7528 Alice \u7684\u7B7E\u540D\u5C31\u53EF\u4EE5\u89E3\u9501.</p>`,57),i=[n];function s(h,l,b,x,p,_){return e(),d("div",null,i)}var P=t(a,[["render",s]]);export{o as __pageData,P as default};
